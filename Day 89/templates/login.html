{% from "bootstrap5/form.html" import render_form %}

{% include "header.html" %}

<div class="masthead bg-dark position-relative overflow-hidden" style="height: 60vh;">
    <div class="position-absolute top-0 start-0 w-100 h-100" style="background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)),
                url('https://images.unsplash.com/photo-1487611459768-bd414656ea10?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D')
                center/cover no-repeat;"></div>
    <div class="container position-relative px-4 px-lg-5 h-100">
        <div class="row gx-4 gx-lg-5 h-100 align-items-center justify-content-center">
            <div class="col-md-10 col-lg-8 col-xl-7 text-center">
                <div class="page-heading text-white">
                    <h1 class="display-4 fw-bold">Login</h1>
                    <span class="subheading fs-3">Welcome back to your tasks!</span>
                </div>
            </div>
        </div>
    </div>
</div>

<main class="mb-4">
    <div class="container px-4 px-lg-5 py-5">
        <div class="row gx-4 gx-lg-5 justify-content-center">
            <div class="col-md-8 col-lg-6">
                <div class="card shadow">
                    <div class="card-body p-4">
                        {% with messages = get_flashed_messages() %}
                            {% if messages %}
                                {% for message in messages %}
                                    <div class="alert alert-warning" role="alert">
                                        {{ message }}
                                    </div>
                                {% endfor %}
                            {% endif %}
                        {% endwith %}

                        {{ render_form(form, novalidate=True, button_map={"submit": "primary"}) }}

                        <div class="mt-4 text-center">
                            <p class="text-muted">
                                Don't have an account?
                                <a href="{{ url_for('register') }}" class="text-decoration-none">Register here</a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

{% include "footer.html" %}